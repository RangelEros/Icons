<svg width="18" height="18" viewBox="0 8 128 128" xmlns="http://www.w3.org/2000/svg">
  <script type="text/ecmascript">
    <![CDATA[
      function updateColor(newColor) {
        var elements = document.querySelectorAll('.color-change');
        elements.forEach(function(element) {
          element.setAttribute('fill', newColor);
          element.setAttribute('stroke', newColor);
        });
      }

      // Example function to extract color from BBCode string
      function getColorFromBBCode(bbcode) {
        var match = bbcode.match(/\[img\]https:\/\/[^\]]+\/[^\]]+color=([0-9A-Fa-f]{6})[^\[]*\[\/img\]/);
        return match ? '#' + match[1] : null;
      }

      // Example BBCode input
      var bbcode = "[img]https://raw.githubusercontent.com/RangelEros/Icons/f148367813a3eea1b44ad93b4701ef1fba244e55/icon_mania_2.svg?color=6A62DD[/img]";
      var newColor = getColorFromBBCode(bbcode);

      if (newColor) {
        updateColor(newColor);
      }
    ]]>
  </script>
  <circle cx="64" cy="64" r="48" fill="none" stroke="white" stroke-width="10">
    <animate 
        attributeName="stroke-dasharray" 
        from="0, 302" 
        to="302, 302" 
        dur="2s" 
        begin="0s" 
        repeatCount="indefinite"
        values="0,302;302,301.6;271.6,331.6;302,302" 
        keyTimes="0;0.5;0.75;1"
        keySplines="0.42 0 0.58 1;0.42 0 0.58 1;0.42 0 0.58 1"
        calcMode="spline" />
    <animate 
        attributeName="stroke" 
        from="white" 
        to="rgb(230, 74, 151)" 
        dur="2s" 
        begin="0s"
        repeatCount="indefinite"
        values="white;rgb(230, 74, 151);rgb(230, 74, 151)" 
        keyTimes="0;0.5;1"
        keySplines="0.42 0 0.58 1;0.42 0 0.58 1"
        calcMode="spline" />
  </circle>
  <rect x="57" y="31" width="14" height="66" rx="8" ry="8" fill="rgb(230, 74, 151)" class="color-change">
    <animate attributeName="height" values="66;52;66" dur="2s" repeatCount="indefinite" keyTimes="0; 0.5; 1"/>
    <animate attributeName="y" values="31;39;31" dur="2s" repeatCount="indefinite" keyTimes="0; 0.5; 1"/>
    <animate 
            attributeName="fill" 
            from="white" 
            to="rgb(230, 74, 151)" 
            dur="2s" 
            begin="0s" 
            repeatCount="indefinite"
            values="white;rgb(230, 74, 151);rgb(230, 74, 151)" 
            keyTimes="0;0.5;1"
            keySplines="0.42 0 0.58 1;0.42 0 0.58 1"
            calcMode="spline" />
  </rect>
  <rect x="37" y="46" width="14" height="36" rx="8" ry="8" fill="rgb(230, 74, 151)" class="color-change">
    <animate attributeName="height" values="36;18;36" dur="2s" repeatCount="indefinite" keyTimes="0; 0.5; 1"/>
    <animate attributeName="y" values="46;55;46" dur="2s" repeatCount="indefinite" keyTimes="0; 0.5; 1"/>
    <animate 
            attributeName="fill" 
            from="white" 
            to="rgb(230, 74, 151)" 
            dur="2s" 
            begin="0s" 
            repeatCount="indefinite"
            values="white;rgb(230, 74, 151);rgb(230, 74, 151)" 
            keyTimes="0;0.5;1"
            keySplines="0.42 0 0.58 1;0.42 0 0.58 1"
            calcMode="spline" />
  </rect>
  <rect x="77" y="46" width="14" height="36" rx="8" ry="8" fill="rgb(230, 74, 151)" class="color-change">
    <animate attributeName="height" values="36;18;36" dur="2s" repeatCount="indefinite" keyTimes="0; 0.5; 1"/>
    <animate attributeName="y" values="46;55;46" dur="2s" repeatCount="indefinite" keyTimes="0; 0.5; 1"/>
    <animate 
            attributeName="fill" 
            from="white" 
            to="rgb(230, 74, 151)" 
            dur="2s" 
            begin="0s" 
            repeatCount="indefinite"
            values="white;rgb(230, 74, 151);rgb(230, 74, 151)" 
            keyTimes="0;0.5;1"
            keySplines="0.42 0 0.58 1;0.42 0 0.58 1"
            calcMode="spline" />
  </rect>
</svg>
